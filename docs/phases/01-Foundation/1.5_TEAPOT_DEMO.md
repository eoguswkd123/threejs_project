# Phase 1.5: Three.js Teapot Demo Implementation

> **Version**: 0.0.3
> **Last Updated**: 2025-12-04
> **Status**: âœ… ì™„ë£Œ (100%)

---

## Table of Contents (ëª©ì°¨)

- [1. Overview (ê°œìš”)](#1-overview-ê°œìš”)
- [2. Architecture (ì•„í‚¤í…ì²˜)](#2-architecture-ì•„í‚¤í…ì²˜)
- [3. Implementation Checklist (êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸)](#3-implementation-checklist-êµ¬í˜„-ì²´í¬ë¦¬ìŠ¤íŠ¸)
- [4. Key Implementation Details (í•µì‹¬ êµ¬í˜„ ìƒì„¸)](#4-key-implementation-details-í•µì‹¬-êµ¬í˜„-ìƒì„¸)
- [5. Testing Strategy (í…ŒìŠ¤íŠ¸ ì „ëµ)](#5-testing-strategy-í…ŒìŠ¤íŠ¸-ì „ëµ)
- [6. Routes & Navigation (ë¼ìš°íŠ¸ ë° ë„¤ë¹„ê²Œì´ì…˜)](#6-routes--navigation-ë¼ìš°íŠ¸-ë°-ë„¤ë¹„ê²Œì´ì…˜)
- [7. Dependencies & References (ì˜ì¡´ì„± ë° ì°¸ì¡°)](#7-dependencies--references-ì˜ì¡´ì„±-ë°-ì°¸ì¡°)
- [8. Post-Completion Checklist (ì™„ë£Œ í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸)](#8-post-completion-checklist-ì™„ë£Œ-í›„-ì²´í¬ë¦¬ìŠ¤íŠ¸)
- [9. Changelog (ë³€ê²½ ì´ë ¥)](#9-changelog-ë³€ê²½-ì´ë ¥)

---

## Phase Progress (ì§„í–‰ ìƒí™©)

| Sub-Phase | ìƒíƒœ | ì„¤ëª…                       |
| --------- | ---- | -------------------------- |
| 1.5.1     | âœ…   | TeapotGeometry ê¸°ë³¸ ë Œë”ë§ |
| 1.5.2     | âœ…   | 6ê°€ì§€ ì‰ì´ë”© ëª¨ë“œ êµ¬í˜„     |
| 1.5.3     | âœ…   | Interactive Controls UI    |
| 1.5.4     | âœ…   | OrbitControls ì¹´ë©”ë¼ ì¡°ì‘  |

---

## 1. Overview (ê°œìš”)

### 1.1 ëª©í‘œ

Three.js ê³µì‹ ì˜ˆì œì¸ [webgl_geometry_teapot](https://threejs.org/examples/#webgl_geometry_teapot)ì„ React Three Fiber ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ 3D ë Œë”ë§ ê¸°ì´ˆë¥¼ í•™ìŠµ

### 1.2 MVP ë²”ìœ„

| í•­ëª©            | MVP ë²”ìœ„                    | í™•ì¥ ë‹¨ê³„         |
| --------------- | --------------------------- | ----------------- |
| **í”„ë ˆì„ì›Œí¬**  | React Three Fiber (R3F)     | -                 |
| **GUI ë°©ì‹**    | HTML Overlay (Tailwind CSS) | lil-gui í†µí•©      |
| **ìƒíƒœ ê´€ë¦¬**   | useState (ë¡œì»¬ ìƒíƒœ)        | Zustand ì „ì—­ ìƒíƒœ |
| **ì‰ì´ë”© ëª¨ë“œ** | 6ê°€ì§€ ëª¨ë“œ                  | ì»¤ìŠ¤í…€ ì‰ì´ë”     |

### 1.3 ê¸°ìˆ ì  ì œì•½

- TeapotGeometryëŠ” `three/addons`ì—ì„œ import í•„ìš”
- R3F í™˜ê²½ì—ì„œ Three.js ê°ì²´ë¥¼ JSXë¡œ ë˜í•‘í•´ì•¼ í•¨

---

## 2. Architecture (ì•„í‚¤í…ì²˜)

### 2.1 ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
src/features/TeapotDemo/
â”œâ”€â”€ index.ts                    # Public exports
â”œâ”€â”€ types.ts                    # íƒ€ì… ì •ì˜ (ShadingMode, TeapotConfig)
â”œâ”€â”€ constants.ts                # ìƒìˆ˜ ì •ì˜ (DEFAULT_TEAPOT_CONFIG)
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ TeapotMesh.tsx          # 3D ë©”ì‹œ ë Œë”ë§
â”‚   â”œâ”€â”€ TeapotControls.tsx      # HTML ì˜¤ë²„ë ˆì´ ì»¨íŠ¸ë¡¤
â”‚   â””â”€â”€ TeapotScene.tsx         # Scene êµ¬ì„± ë˜í¼
â””â”€â”€ hooks/
    â”œâ”€â”€ index.ts
    â””â”€â”€ useTeapotMaterial.ts    # Material ìƒì„± í›…

src/pages/TeapotDemo/
â””â”€â”€ index.tsx                   # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
```

### 2.2 ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ

```
TeapotDemoPage                          [custom] í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â””â”€â”€ TeapotScene                         [custom] ì”¬ ì»¨í…Œì´ë„ˆ
    â”œâ”€â”€ Canvas                          [@react-three/fiber] 3D ìº”ë²„ìŠ¤
    â”‚   â”œâ”€â”€ PerspectiveCamera           [@react-three/drei] ì›ê·¼ ì¹´ë©”ë¼
    â”‚   â”œâ”€â”€ OrbitControls               [@react-three/drei] ê¶¤ë„ ì»¨íŠ¸ë¡¤
    â”‚   â”œâ”€â”€ ambientLight                [R3F built-in] í™˜ê²½ê´‘
    â”‚   â”œâ”€â”€ directionalLight (x2)       [R3F built-in] ì§ì‚¬ê´‘
    â”‚   â”œâ”€â”€ TeapotMesh                  [custom] ì£¼ì „ì ë©”ì‹œ
    â”‚   â”‚   â””â”€â”€ TeapotGeometry          [three/addons] ì£¼ì „ì í˜•ìƒ
    â”‚   â””â”€â”€ gridHelper                  [R3F built-in] ë°”ë‹¥ ê·¸ë¦¬ë“œ
    â””â”€â”€ TeapotControls                  [custom / HTML] UI ì»¨íŠ¸ë¡¤ íŒ¨ë„
```

**ë²”ë¡€:**

- `[custom]` - ì§ì ‘ êµ¬í˜„í•œ ì»´í¬ë„ŒíŠ¸
- `[@react-three/fiber]` - R3F ì½”ì–´
- `[@react-three/drei]` - R3F í—¬í¼ ë¼ì´ë¸ŒëŸ¬ë¦¬
- `[R3F built-in]` - Three.js ê°ì²´ (R3Fì—ì„œ JSXë¡œ ì‚¬ìš©)
- `[three/addons]` - Three.js í™•ì¥ ëª¨ë“ˆ

### 2.3 ë°ì´í„° íë¦„

```
User Input â†’ TeapotControls â†’ useState(config) â†’ TeapotMesh â†’ Three.js Render

ìƒíƒœ ë³€ê²½ ì˜ˆì‹œ:
Shading Mode Select â†’ setConfig({ shadingMode }) â†’ useMemo(material) â†’ mesh.material
```

---

## 3. Implementation Checklist (êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸)

### 3.1 Phase 1.5.1: ê¸°ë³¸ ë Œë”ë§

- [âœ…] TeapotGeometry import ì„¤ì •
- [âœ…] TeapotMesh ì»´í¬ë„ŒíŠ¸ ìƒì„±
- [âœ…] Canvas ë° ê¸°ë³¸ ì¡°ëª… ì„¤ì •
- [âœ…] OrbitControls í†µí•©

### 3.2 Phase 1.5.2: ì‰ì´ë”© ëª¨ë“œ

- [âœ…] wireframe ëª¨ë“œ (MeshBasicMaterial)
- [âœ…] flat ëª¨ë“œ (MeshPhongMaterial, flatShading)
- [âœ…] smooth ëª¨ë“œ (MeshStandardMaterial)
- [âœ…] glossy ëª¨ë“œ (MeshPhysicalMaterial)
- [âœ…] textured ëª¨ë“œ (ì²´ì»¤ë³´ë“œ í…ìŠ¤ì²˜)
- [âœ…] reflective ëª¨ë“œ (í™˜ê²½ ë°˜ì‚¬)

### 3.3 Phase 1.5.3: Interactive Controls

- [âœ…] Tessellation ìŠ¬ë¼ì´ë” (1-50)
- [âœ…] Shading Mode ì„ íƒ ë“œë¡­ë‹¤ìš´
- [âœ…] Lid/Body/Bottom ê°€ì‹œì„± í† ê¸€
- [âœ…] Auto Rotate ì²´í¬ë°•ìŠ¤

### 3.4 Phase 1.5.4: ìµœì í™”

- [âœ…] React.memoë¡œ ë¦¬ë Œë”ë§ ë°©ì§€
- [âœ…] useMemoë¡œ Material/Geometry ìºì‹±
- [âœ…] HTML Overlayë¡œ 3D/UI ë¶„ë¦¬

---

## 4. Key Implementation Details (í•µì‹¬ êµ¬í˜„ ìƒì„¸)

### 4.1 í•µì‹¬ ì½”ë“œ íŒ¨í„´

#### íƒ€ì… ì •ì˜

```typescript
// types.ts
export type ShadingMode =
    | 'wireframe'
    | 'flat'
    | 'smooth'
    | 'glossy'
    | 'textured'
    | 'reflective';

export interface TeapotConfig {
    tessellation: number;
    shadingMode: ShadingMode;
    showLid: boolean;
    showBody: boolean;
    showBottom: boolean;
    autoRotate: boolean;
}
```

#### ìƒìˆ˜ ì •ì˜

```typescript
// constants.ts
export const DEFAULT_TEAPOT_CONFIG: TeapotConfig = {
    tessellation: 15,
    shadingMode: 'smooth',
    showLid: true,
    showBody: true,
    showBottom: true,
    autoRotate: true,
};
```

#### TeapotGeometry Import

```typescript
import { TeapotGeometry } from 'three/addons/geometries/TeapotGeometry.js';
```

#### Material Hook íŒ¨í„´

```typescript
// hooks/useTeapotMaterial.ts
export function useTeapotMaterial(shadingMode: ShadingMode) {
    const material = useMemo(() => {
        switch (shadingMode) {
            case 'wireframe':
                return new THREE.MeshBasicMaterial({ wireframe: true });
            case 'smooth':
                return new THREE.MeshStandardMaterial({ roughness: 0.5 });
            case 'glossy':
                return new THREE.MeshPhysicalMaterial({
                    roughness: 0.1,
                    clearcoat: 1.0,
                });
            // ... ê¸°íƒ€ ëª¨ë“œ
        }
    }, [shadingMode]);

    return material;
}
```

#### ë©”ì‹œ ì»´í¬ë„ŒíŠ¸ íŒ¨í„´

```tsx
// components/TeapotMesh.tsx
export const TeapotMesh = memo(function TeapotMesh({
    config,
}: TeapotMeshProps) {
    const meshRef = useRef<THREE.Mesh>(null);
    const material = useTeapotMaterial(config.shadingMode);

    const geometry = useMemo(() => {
        return new TeapotGeometry(
            3, // size
            config.tessellation, // segments
            config.showBottom,
            config.showLid,
            config.showBody,
            true // fitLid
        );
    }, [
        config.tessellation,
        config.showBottom,
        config.showLid,
        config.showBody,
    ]);

    useFrame((_, delta) => {
        if (config.autoRotate && meshRef.current) {
            meshRef.current.rotation.y += delta * 0.5;
        }
    });

    useEffect(() => {
        return () => geometry.dispose();
    }, [geometry]);

    return <mesh ref={meshRef} geometry={geometry} material={material} />;
});
```

### 4.2 ì„¤ì • ë° ìƒìˆ˜

| ìƒìˆ˜ëª…         | ê°’        | ì„¤ëª…                   |
| -------------- | --------- | ---------------------- |
| `tessellation` | 15 (ê¸°ë³¸) | í…Œì…€ë ˆì´ì…˜ ë ˆë²¨ (1-50) |
| `autoRotate`   | true      | Yì¶• ìë™ íšŒì „          |
| `size`         | 3         | TeapotGeometry í¬ê¸°    |

---

## 5. Testing Strategy (í…ŒìŠ¤íŠ¸ ì „ëµ)

### 5.1 Unit Tests

- [ ] useTeapotMaterial í›… í…ŒìŠ¤íŠ¸
- [ ] ShadingMode íƒ€ì… ê²€ì¦

### 5.2 Integration Tests

- [ ] TeapotScene ë Œë”ë§ í…ŒìŠ¤íŠ¸
- [ ] Controls ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸

### 5.3 ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

| ê²€ì¦ í•­ëª©              | ë°©ë²•                 | ìƒíƒœ |
| ---------------------- | -------------------- | ---- |
| 6ê°€ì§€ ì‰ì´ë”© ëª¨ë“œ ì „í™˜ | ìˆ˜ë™ í™•ì¸            | âœ…   |
| Tessellation ìŠ¬ë¼ì´ë”  | ìˆ˜ë™ í™•ì¸            | âœ…   |
| Lid/Body/Bottom í† ê¸€   | ìˆ˜ë™ í™•ì¸            | âœ…   |
| Auto Rotate ê¸°ëŠ¥       | ìˆ˜ë™ í™•ì¸            | âœ…   |
| OrbitControls ì¡°ì‘     | ìˆ˜ë™ í™•ì¸            | âœ…   |
| ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ        | ìˆ˜ë™ í™•ì¸            | âœ…   |
| íƒ€ì… ì²´í¬              | `npm run type-check` | âœ…   |
| ë¦°íŠ¸                   | `npm run lint`       | âœ…   |

---

## 6. Routes & Navigation (ë¼ìš°íŠ¸ ë° ë„¤ë¹„ê²Œì´ì…˜)

| Path           | Component      | Description        |
| -------------- | -------------- | ------------------ |
| `/teapot-demo` | TeapotDemoPage | Teapot ë°ëª¨ í˜ì´ì§€ |

---

## 7. Dependencies & References (ì˜ì¡´ì„± ë° ì°¸ì¡°)

### 7.1 í•„ìˆ˜ íŒ¨í‚¤ì§€

| íŒ¨í‚¤ì§€               | ë²„ì „     | ìš©ë„                             |
| -------------------- | -------- | -------------------------------- |
| `three`              | ^0.181.0 | TeapotGeometry í¬í•¨              |
| `@react-three/fiber` | ^8.x     | React Three Fiber                |
| `@react-three/drei`  | ^9.x     | OrbitControls, PerspectiveCamera |

### 7.2 ì°¸ì¡° ë¬¸ì„œ

| ë¬¸ì„œ                                                                           | ì—­í•            |
| ------------------------------------------------------------------------------ | -------------- |
| [Three.js Teapot Example](https://threejs.org/examples/#webgl_geometry_teapot) | ì›ë³¸ ì˜ˆì œ      |
| [React Three Fiber Docs](https://docs.pmnd.rs/react-three-fiber)               | R3F ê³µì‹ ë¬¸ì„œ  |
| [DEV_GUIDE.md](../../DEV_GUIDE.md)                                             | í´ë” ëª…ëª… ê·œì¹™ |

### 7.3 ê´€ë ¨ Phase

| Phase    | ê´€ê³„ | ì„¤ëª…                      |
| -------- | ---- | ------------------------- |
| Phase 1  | ì˜ì¡´ | Foundation ì™„ë£Œ í›„ ì‹œì‘   |
| Phase 2A | ì—°ê´€ | CADViewerì—ì„œ íŒ¨í„´ ì¬ì‚¬ìš© |

---

## 8. Post-Completion Checklist (ì™„ë£Œ í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸)

ê°œë°œ ì™„ë£Œ ì‹œ Claudeê°€ ì•„ë˜ ë¬¸ì„œë“¤ì˜ ì—…ë°ì´íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ì œì•ˆí•©ë‹ˆë‹¤.

### 8.1 ì—°ê´€ ë¬¸ì„œ ì—…ë°ì´íŠ¸ (Claude ìë™ ì œì•ˆ)

| ë¬¸ì„œ                             | ì—…ë°ì´íŠ¸ ë‚´ìš©                                     |
| -------------------------------- | ------------------------------------------------- |
| `docs/phases/PHASE_NAV_GUIDE.md` | Phase ë¬¸ì„œ ë§í¬, ìƒíƒœ, ì§„í–‰ë¥  ì—…ë°ì´íŠ¸            |
| `docs/ROADMAP.md`                | Phase ìƒíƒœ (ğŸ”„â†’âœ…), ì§„í–‰ë¥ , Milestones, ë³€ê²½ ì´ë ¥ |
| `docs/GLOSSARY.md`               | ìƒˆë¡œìš´ ìš©ì–´/ì•½ì–´ ì¶”ê°€                             |
| `docs/ARCHITECTURE.md`           | íŒ¨í‚¤ì§€ êµ¬ì¡°, ë ˆì´ì–´ë³„ ì—­í• , ê´€ë ¨ ë¬¸ì„œ ë§í¬        |
| `README.md`                      | í˜„ì¬ ìƒíƒœ, êµ¬í˜„ ì™„ë£Œ ê¸°ëŠ¥, ê°œë°œ ì˜ˆì • ëª©ë¡         |

### 8.2 ì—…ë°ì´íŠ¸ í”„ë¡œì„¸ìŠ¤

1. **êµ¬í˜„ ì™„ë£Œ** â†’ Claudeê°€ "ì—°ê´€ ë¬¸ì„œ ì—…ë°ì´íŠ¸í• ê¹Œìš”?" ì œì•ˆ
2. **ë³€ê²½ ë‚´ìš© ë¯¸ë¦¬ë³´ê¸°** â†’ ê° ë¬¸ì„œë³„ ìˆ˜ì •ë  ë‚´ìš© í‘œì‹œ
3. **ìŠ¹ì¸** â†’ ì‚¬ìš©ì í™•ì¸ í›„ ì¼ê´„ ì—…ë°ì´íŠ¸

---

## 9. Changelog (ë³€ê²½ ì´ë ¥)

| ë²„ì „  | ë‚ ì§œ       | ë³€ê²½ ë‚´ìš©                                                          |
| ----- | ---------- | ------------------------------------------------------------------ |
| 0.0.3 | 2025-12-04 | í…œí”Œë¦¿ v0.0.3 ê¸°ì¤€ ì„¹ì…˜ ìˆœì„œ ë³€ê²½ (Routesâ†”Dependencies)            |
| 0.0.2 | 2025-12-03 | í…œí”Œë¦¿ ê¸°ì¤€ ë©”íƒ€ë°ì´í„° ê°„ì†Œí™” (Created, Dependencies ì œê±°)         |
| 0.0.1 | 2025-12-02 | í…œí”Œë¦¿ ì ìš©, ë²„ì „ ê°€ì´ë“œë¼ì¸ ì ìš© (0.0.x), Section 9 ì¶”ê°€          |
| 0.0.0 | 2025-12-01 | ì´ˆê¸° êµ¬í˜„ ì™„ë£Œ                                                     |

